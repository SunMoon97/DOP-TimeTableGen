# Timetable Generator with Classroom Allocation

This system generates course timetables for academic institutions and allocates classrooms based on course requirements and available facilities. It now includes a backtracking algorithm that integrates course scheduling and classroom allocation to minimize unallocated courses.

## Features

- Course timetable generation with day and slot assignments
- Classroom allocation based on student count and room capacity
- Three different methods:
  - Basic: Simple timetable generation without room allocation
  - Integrated: Random trials of timetable generation and room allocation
  - Backtracking: Advanced algorithm that considers room constraints during scheduling

## Files and Components

- `main.py`: Entry point with command-line options for different methods
- `backtracking_scheduler.py`: New implementation with backtracking algorithm
- `integrator.py`: Original implementation with random trials
- `timetable_generator.py`: Basic timetable generation
- `course_assigner.py`: Handles course assignment logic
- `allocate_classrooms.py`: Classroom allocation logic
- `file_handler.py`: File I/O operations
- `config.py`: Configuration constants
- `course_utils.py`: Utility functions for course handling
- `data_structure.py`: Data structure definitions

## How to Run

Use the command line interface to run the program with different methods:

```bash
# Run with backtracking algorithm (default)
python main.py

# Run with backtracking and 20 attempts
python main.py --method backtracking --attempts 20

# Run with integrated method (random trials)
python main.py --method integrated --attempts 15

# Run with basic method (no room allocation)
python main.py --method basic
```

## Input Files

The system requires the following input files:
- `result.txt`: Course data including load information
- `sem 1 23-24 erp tt& reg.xlsx`: ERP data with student enrollment
- `data.xlsx`: Room capacity information

## Output Files

Depending on the method used, the program will create:
- `combined_timetable.xlsx`: Basic timetable without room allocation
- `final_classroom_allocation.xlsx`: Room allocation with integrated method
- `final_classroom_allocation_backtracking.xlsx`: Room allocation with backtracking method
- `combined_timetable_backtracking.xlsx`: Timetable generated by backtracking

## Backtracking Implementation

The backtracking algorithm considers classroom constraints during the course scheduling process, which makes it more effective at minimizing unallocated courses. Key features include:

1. Recursive backtracking that tries different assignments
2. Room availability checked during course assignment
3. Smart ordering of courses by student count and historical difficulty
4. Fallback mechanism for any remaining unassigned courses
5. Memory of failed assignments to improve future attempts

## Constraints Honored

The backtracking algorithm respects all the original constraints:
- Day patterns (MWF vs TT)
- No course conflicts
- Slot validity for different session types
- Room capacity sufficient for student count
- Room not double-booked 